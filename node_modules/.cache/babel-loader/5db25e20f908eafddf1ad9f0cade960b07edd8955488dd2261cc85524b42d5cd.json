{"ast":null,"code":"import _slicedToArray from\"/Users/nick/Desktop/vscode/Feedback-App/Feedback-Application/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Card from'./shared/Card';import{useState,useContext,useEffect}from'react';import Button from'./shared/Button';import RatingSelect from'./RatingSelect';import FeedbackContext from'../context/FeedbackContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FeedbackForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),btnDisabled=_useState6[0],setBtnDisabled=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useContext=useContext(FeedbackContext),addFeedback=_useContext.addFeedback,feedbackEdit=_useContext.feedbackEdit,updateFeedback=_useContext.updateFeedback;useEffect(function(){if(feedbackEdit.edit===true){setBtnDisabled(false);setText(feedbackEdit.item.text);setRating(feedbackEdit.item.rating);}},[feedbackEdit]);var handleTextChange=function handleTextChange(e){if(text===''){setBtnDisabled(true);setMessage(null);}else if(text!==''&&text.trim().length<=10){setBtnDisabled(true);setMessage('Text must be at least 10 characters in length!!');}else{setBtnDisabled(false);setMessage(null);}setText(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();if(text.trim().length>10){var newFeedback={text:text,rating:rating};if(feedbackEdit.edit===true){updateFeedback(feedbackEdit.item.id,newFeedback);}else{addFeedback(newFeedback);}setText('');}};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"How would you rate our service with us\"}),/*#__PURE__*/_jsx(RatingSelect,{select:setRating,selected:rating}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleTextChange,type:\"text\",placeholder:\"Write a review\",value:text}),/*#__PURE__*/_jsx(Button,{type:\"submit\",isDisabled:btnDisabled,children:\"Send\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:message})]})});}export default FeedbackForm;","map":{"version":3,"names":["React","Card","useState","useContext","useEffect","Button","RatingSelect","FeedbackContext","FeedbackForm","text","setText","rating","setRating","btnDisabled","setBtnDisabled","message","setMessage","addFeedback","feedbackEdit","updateFeedback","edit","item","handleTextChange","e","trim","length","target","value","handleSubmit","preventDefault","newFeedback","id"],"sources":["/Users/nick/Desktop/vscode/Feedback-App/Feedback-Application/src/components/FeedbackForm.jsx"],"sourcesContent":["import React from 'react'\nimport Card from './shared/Card'\nimport { useState, useContext, useEffect } from 'react'\nimport Button from './shared/Button'\nimport RatingSelect from './RatingSelect'\nimport FeedbackContext from '../context/FeedbackContext'\n\nfunction FeedbackForm() {\n  const [text, setText] = useState('')\n  const [rating, setRating] = useState(10)\n  const [btnDisabled, setBtnDisabled] = useState(true)\n  const [message, setMessage] = useState('')\n\n  const { addFeedback, feedbackEdit, updateFeedback } = useContext(FeedbackContext)\n\n  useEffect(() => {\n    if (feedbackEdit.edit === true) {\n      setBtnDisabled(false)\n      setText(feedbackEdit.item.text)\n      setRating(feedbackEdit.item.rating)\n    }\n  }, [feedbackEdit])\n\n  const handleTextChange = (e) => {\n    if (text === '') {\n      setBtnDisabled(true)\n      setMessage(null)\n    } else if (text !== '' && text.trim().length <= 10) {\n      setBtnDisabled(true)\n      setMessage('Text must be at least 10 characters in length!!')\n    } else {\n      setBtnDisabled(false)\n      setMessage(null)\n    }\n\n    setText(e.target.value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if (text.trim().length > 10) {\n      const newFeedback = {\n        text,\n        rating\n      }\n\n      if (feedbackEdit.edit === true) {\n        updateFeedback(feedbackEdit.item.id, newFeedback)\n      } else {\n        addFeedback(newFeedback)\n      }\n\n      setText('')\n    }\n  }\n\n  return (\n    <Card>\n      <form onSubmit={handleSubmit}>\n        <h2>How would you rate our service with us</h2>\n        <RatingSelect select={setRating} selected={rating} />\n        <div className='input-group'>\n          <input onChange={handleTextChange} type=\"text\" placeholder='Write a review' value={text} />\n          <Button type=\"submit\" isDisabled={btnDisabled}>Send</Button>\n        </div>\n\n        {message && <div className='message'>{message}</div>}\n      </form>\n    </Card>\n  )\n}\n\nexport default FeedbackForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}